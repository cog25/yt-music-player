!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(i,o,function(e){return t[e]}.bind(null,o));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){"use strict";let i;n.r(e);const o=[{title:"ì–´ë–¤ ì˜¤í›„",id:"D4_iIg-VQ6g"}];function u(){localStorage.setItem("yt-music",JSON.stringify(i))}function r(){const t=localStorage.getItem("yt-music");t?function(t){try{i=JSON.parse(t),i.length||(i=o)}catch(t){console.error(t),i=o}}(t):i=o}var l=function(t,e,n,i){return new(n||(n=Promise))((function(o,u){function r(t){try{c(i.next(t))}catch(t){u(t)}}function l(t){try{c(i.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}c((i=i.apply(t,e||[])).next())}))};let c;function d(t){return t.replace(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?/g,"")}var a=function(t,e,n,i){return new(n||(n=Promise))((function(o,u){function r(t){try{c(i.next(t))}catch(t){u(t)}}function l(t){try{c(i.throw(t))}catch(t){u(t)}}function c(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(r,l)}c((i=i.apply(t,e||[])).next())}))};const s=document.getElementById("playlist");let f=[];const m=function(){const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),e=document.createElementNS("http://www.w3.org/2000/svg","circle"),n=document.createElementNS("http://www.w3.org/2000/svg","line");return t.setAttributeNS(null,"viewBox","0 0 256 256"),e.setAttributeNS(null,"cx","128"),e.setAttributeNS(null,"cy","128"),e.setAttributeNS(null,"r","96"),e.setAttributeNS(null,"fill","none"),e.setAttributeNS(null,"stroke-linecap","round"),e.setAttributeNS(null,"stroke-linejoin","round"),e.setAttributeNS(null,"stroke-width","24"),n.setAttributeNS(null,"x1","88"),n.setAttributeNS(null,"y1","128"),n.setAttributeNS(null,"x2","168"),n.setAttributeNS(null,"y2","128"),n.setAttributeNS(null,"fill","none"),n.setAttributeNS(null,"stroke-linecap","round"),n.setAttributeNS(null,"stroke-linejoin","round"),n.setAttributeNS(null,"stroke-width","24"),t.append(e),t.append(n),t.classList.add("icon"),t}();function p(t,e){const n=document.createElement("li"),o=document.createElement("span"),r=document.createElement("button");return o.innerText=t,o.addEventListener("click",()=>{!function(t){const e=f.findIndex(e=>e.id===t),n=f.filter((t,n)=>n<e),i=f.filter((t,n)=>n>=e);f=i.concat(n)}(e),S({title:t,id:e})}),r.append(m.cloneNode(!0)),r.addEventListener("click",t=>{!function(t,e){const n=t.target.parentNode,o=f.findIndex(t=>t.id===e);f.splice(o,1),n.remove(),function(t){const e=i.findIndex(e=>e.id===t);i.splice(e,1),u()}(e)}(t,e)},{capture:!0}),r.setAttribute("aria-label","ì‚­ì œ"),n.append(o),n.append(r),n.classList.add("list__music__item"),n}function y(t,e){const n=d(e),o=p(t,n);f.push({title:t,id:n}),s.append(o),function({title:t,id:e}){i.push({title:t,id:e}),u()}({title:t,id:n})}function g(){return a(this,void 0,void 0,(function*(){const t=document.getElementById("uri");if(!t.value)return;y(yield function(t){return l(this,void 0,void 0,(function*(){return""+(yield new Promise(e=>{c.loadVideoById(d(t)),c.addEventListener("onStateChange",(function t(){if(1===c.getPlayerState()){const{title:n}=c.playerInfo.videoData;c.pauseVideo(),c.removeEventListener("onStateChange",t),e(n)}}))}))}))}(""+t.value),t.value),t.value=""}))}function v(t){if("next"===t)f.push(f[0]),f.shift();else if("prev"===t)f.unshift(f[f.length-1]),f.pop();else if("shuffle"===t){if(f.length<3)return;const t=f[0];f.shift();for(let t=f.length;t>0;t--){const e=Math.floor(Math.random()*(t+1));[f[t],f[e]]=[f[e],f[t]]}f.unshift(t)}}let h,E=0,b=!1;function w(){const t=f[0];h=new YT.Player("player",{width:"560",height:"560",videoId:t.id,events:{onReady:N,onStateChange:A}}),document.getElementById("pause").addEventListener("click",()=>{h.pauseVideo()}),document.getElementById("play").addEventListener("click",()=>{h.playVideo()}),document.getElementById("previous").addEventListener("click",()=>{v("prev"),S(f[0])}),document.getElementById("next").addEventListener("click",()=>{v("next"),S(f[0])}),document.getElementById("duration").addEventListener("mousedown",B,{passive:!0}),document.getElementById("duration").addEventListener("touchStart",B,{passive:!0}),document.getElementById("duration").addEventListener("mouseup",L,{passive:!0}),document.getElementById("duration").addEventListener("touchEnd",L,{passive:!0}),c=new YT.Player("tmpPlayer",{width:"10",height:"10"}),c.mute(),window.onYouTubeIframeAPIReady=null}function S({title:t,id:e}){E=0,h.loadVideoById(e),h.addEventListener("onStateChange",(function n(){1===h.getPlayerState()&&(x(t,e),h.removeEventListener("onStateChange",n))}))}function I(){if(!E||b)return;document.getElementById("duration").value=""+h.getCurrentTime(),requestAnimationFrame(I)}function B(){b=!0}function L(){if(!E)return;b=!1;const t=document.getElementById("duration");h.seekTo(+t.value,!0),h.playVideo(),I()}function x(t,e){const n=document.getElementById("duration");E=h.getDuration(),n.max=""+E,I(),function(t){let e=document.getElementById("bg");e||(e=document.createElement("div"),e.id="bg",document.body.append(e));e.style.backgroundImage=`url(${function(t){return`https://i.ytimg.com/vi/${t}/original.jpg`}(t)})`}(e),document.title="ðŸŽµ Playing - "+t,document.getElementById("title").innerText=t}function N(t){const e=f[0];t.target.playVideo(),x(e.title,e.id)}function A(){const t=document.getElementById("video-container"),e=document.getElementById("pause"),n=document.getElementById("play"),i=h.getPlayerState();1===i?(t.classList.add("playing"),e.style.display="inline",n.style.display="none"):0===i?(v("next"),S(f[0])):(t.classList.remove("playing"),e.style.display="none",n.style.display="inline")}!function(){const t=document.createElement("script");t.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=w,document.body.append(t)}(),r(),f=[...i],f.forEach(t=>{s.append(p(t.title,t.id))}),function(){const t=document.getElementById("song-form"),e=document.getElementById("submit");t.addEventListener("submit",t=>{t.preventDefault(),g()}),e.addEventListener("click",g)}(),function(){const t=document.querySelector(".list"),e=document.getElementById("toggleList");e.addEventListener("click",()=>{e.classList.toggle("active"),t.classList.toggle("active")})}()}]);