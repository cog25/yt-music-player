!function(e){var t={};function n(i){if(t[i])return t[i].exports;var o=t[i]={i:i,l:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(i,o,function(t){return e[t]}.bind(null,o));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";let i;function o(){localStorage.setItem("yt-music",JSON.stringify(i))}function d(){const e=localStorage.getItem("yt-music");e?function(e){try{i=JSON.parse(e)}catch(e){console.error(e),i=[{title:"어떤 오후",id:"D4_iIg-VQ6g"}]}}(e):i=[{title:"어떤 오후",id:"D4_iIg-VQ6g"}]}n.r(t);const u=document.getElementById("playlist");let r,c=[];function l(e,t){const n=document.createElement("li"),d=document.createElement("span"),u=document.createElement("button");return d.innerText=e,d.addEventListener("click",()=>{!function(e){const t=c.findIndex(t=>t.id===e),n=c.filter((e,n)=>n<t),i=c.filter((e,n)=>n>=t);c=i.concat(n)}(t),g({title:e,id:t})}),u.innerText="❌",u.addEventListener("click",e=>{!function(e,t){const n=e.target.parentNode,d=c.findIndex(e=>e.id===t);c.splice(d,1),n.remove(),function(e){const t=i.findIndex(t=>t.id===e);i.splice(t,1),o()}(t)}(e,t)},{capture:!0}),n.append(d),n.append(u),n}function a(e,t){const n=function(e){return e.replace(/(?:https?:\/\/)?(?:www\.)?(?:youtube\.com|youtu\.be)\/(?:watch\?v=)?/g,"")}(t),d=l(e,n);c.push({title:e,id:n}),u.append(d),function({title:e,id:t}){i.push({title:e,id:t}),o()}({title:e,id:n})}function s(){const e=document.getElementById("title"),t=document.getElementById("uri");t.value&&(e||(e.value=t.value),a(e.value,t.value),e.value="",t.value="")}function m(e){if("next"===e)c.push(c[0]),c.shift();else if("prev"===e)c.unshift(c[c.length-1]),c.pop();else if("shuffle"===e){if(c.length<3)return;const e=c[0];c.shift();for(let e=c.length;e>0;e--){const t=Math.floor(Math.random()*(e+1));[c[e],c[t]]=[c[t],c[e]]}c.unshift(e)}}let f=0,p=!1;function y(){const e=c[0];r=new YT.Player("player",{width:"560",height:"560",videoId:e.id,events:{onReady:b,onStateChange:B}}),document.getElementById("pause").addEventListener("click",()=>{r.pauseVideo()}),document.getElementById("play").addEventListener("click",()=>{r.playVideo()}),document.getElementById("previous").addEventListener("click",()=>{m("prev"),g(c[0])}),document.getElementById("next").addEventListener("click",()=>{m("next"),g(c[0])}),document.getElementById("duration").addEventListener("mousedown",E,{passive:!0}),document.getElementById("duration").addEventListener("touchStart",E,{passive:!0}),document.getElementById("duration").addEventListener("mouseup",I,{passive:!0}),document.getElementById("duration").addEventListener("touchEnd",I,{passive:!0}),window.onYouTubeIframeAPIReady=null}function g({title:e,id:t}){f=0,r.loadVideoById(t),r.addEventListener("onStateChange",(function n(){1===r.getPlayerState()&&(h(e,t),r.removeEventListener("onStateChange",n))}))}function v(){if(!f||p)return;document.getElementById("duration").value=""+r.getCurrentTime(),requestAnimationFrame(v)}function E(){p=!0}function I(){if(!f)return;p=!1;const e=document.getElementById("duration");r.seekTo(+e.value,!0),r.playVideo(),v()}function h(e,t){const n=document.getElementById("duration");f=r.getDuration(),n.max=""+f,v(),function(e){let t=document.getElementById("bg");t||(t=document.createElement("div"),t.id="bg",document.body.append(t));t.style.backgroundImage=`url(${function(e){return`https://i.ytimg.com/vi/${e}/original.jpg`}(e)})`}(t),document.title="🎵 Playing - "+e}function b(e){const t=c[0];e.target.playVideo(),h(t.title,t.id)}function B(){const e=document.getElementById("video-container"),t=document.getElementById("pause"),n=document.getElementById("play"),i=r.getPlayerState();1===i?(e.classList.add("playing"),t.style.display="inline",n.style.display="none"):0===i?(m("next"),g(c[0])):(e.classList.remove("playing"),t.style.display="none",n.style.display="inline")}!function(){const e=document.createElement("script");e.src="https://www.youtube.com/iframe_api",window.onYouTubeIframeAPIReady=y,document.body.append(e)}(),d(),c=[...i],c.forEach(e=>{u.append(l(e.title,e.id))}),function(){const e=document.getElementById("song-form"),t=document.getElementById("submit");e.addEventListener("submit",e=>{e.preventDefault(),s()}),t.addEventListener("click",s)}()}]);